Scopul problemei e de a realiza echipe de fotbal,iar pentru fiecare echipa se lanseaza un form nou pentru a introduce informatiile despre un jucator nou.Detaliile despre 
fiecare jucator vor fi afisate in partea dreapta a formului principal. Pentru a accesa formul principal,trebuie mai intai introdusa parola si numele de 
utilizator(admin,admin).

Codul pentru formalurul cu user-ul si parola:

using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading;
using System.Threading.Tasks;
using System.Timers;
using System.Windows.Forms;

namespace Laborator3
{
    public partial class Form1 : Form
    {
        string user = "admin", parola = "admin";
        public Form1()
        {
            InitializeComponent();
        }

        private void btnOk_Click(object sender, EventArgs e)
        {
            if (txtUtilizator.Text != user || txtParola.Text != parola)
            {
                errorProvider.SetError(txtUtilizator, "Combinatie invalida");
                errorProvider2.SetError(txtParola, "Combinatie invalida");
                return;
            }
            errorProvider.Clear();
            btnOk.Enabled = false;
            btnCancel.Enabled = false;
            timer.Start();
            timer.Tick += Timer_Tick;
        }

        private void Timer_Tick(object sender, EventArgs e)
        {
            if (progressBar.Value + 1 > progressBar.Maximum)
                return;
                progressBar.Value += 1;
            if(progressBar.Value==progressBar.Maximum)
            {
                DialogResult = DialogResult.OK;
            }
        }

        private void btnCancel_Click(object sender, EventArgs e)
        {
            DialogResult = DialogResult.Cancel;
        }
    }
}

Codul cu Clasa principala numita Jucator:

using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Laborator3
{
    class Jucator
    {
        string cnp;
        string nume;
        Post post;

        public Jucator()
        {

        }
        public Jucator(string cnp,string nume,Post post)
        {
            this.cnp = cnp;
            this.nume = nume;
            this.post = post;
        }
        public string CNP { get => cnp; set => cnp = value; }
        public string Nume { get => nume; set => nume = value; }
        internal Post Post { get => post; set => post = value; }

        public DateTime DataNasterii
        {
            get
            {
                int.TryParse(cnp.Substring(1, 2), out int an);
                int.TryParse(cnp.Substring(3, 2), out int luna);
                int.TryParse(cnp.Substring(5, 2), out int zi);

                DateTime dn = new DateTime();

                if (cnp.Substring(0, 1).CompareTo("1") == 0 || cnp.Substring(0, 1).CompareTo("2") == 0)
                    dn = new DateTime(1900 + an, luna, zi);
                else if (cnp.Substring(0, 1).CompareTo("5") == 0 || cnp.Substring(0, 1).CompareTo("6") == 0)
                    dn = new DateTime(2000 + an, luna, zi);

                return dn;
            }
        }
        public int Varsta
        {
            get
            {
                long ticks = DateTime.Now.Ticks - DataNasterii.Ticks;
                DateTime dt = new DateTime(ticks);
                return dt.Year - 1;
            }
        }
    }

    enum Post
    {
        Portar,Fundas,Mijlocas,Atacant
    }
}

Codul pentru formularul principal:

using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.IO;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;

namespace Laborator3
{
    public partial class Form2 : Form
    {
        public Form2()
        {
            InitializeComponent();
            IncarcaEchipe();
        }

        private void IncarcaEchipe()
        {
            flowLayoutPanel1.Controls.Clear();
            cmbEchipe.Items.Clear();
            foreach(string dirPath in Directory.EnumerateDirectories(Application.StartupPath))
            {
                DirectoryInfo dirName = new DirectoryInfo(dirPath);
                cmbEchipe.Items.Add(dirName.Name);
            }
        }

        private void Form2_Load(object sender, EventArgs e)
        {
            Form1 f = new Form1();

            if (f.ShowDialog() == DialogResult.Cancel)
                this.Close();

        }

        private void btnEchipa_Click(object sender, EventArgs e)
        {
            Form3 dlg = new Form3();
            if(dlg.ShowDialog()==DialogResult.OK)
            {
                IncarcaEchipe();
            }
        }

        private void bnJucator_Click(object sender, EventArgs e)
        {
            if(cmbEchipe.Text.Length>0)
            {
                Form4 f = new Form4();
                if(f.ShowDialog()==DialogResult.OK)
                {
                    string fileName = Application.StartupPath + "\\" + cmbEchipe.Text + "\\" + f.CNP + ".lpf";
                    using (StreamWriter sw=new StreamWriter(fileName))
                    {
                        sw.WriteLine(f.Nume);
                        sw.WriteLine(f.Post.ToString());
                    }
                    IncarcaJucatorEchipa(cmbEchipe.Text);
                }
            }
        }

        private void IncarcaJucatorEchipa(string echipa)
        {
            flowLayoutPanel1.Controls.Clear();
            string path = Application.StartupPath + "\\" + echipa;
            foreach(string fileName in Directory.EnumerateFiles(path,"*lpf"))
            {
                using (StreamReader sr=new StreamReader(fileName))
                {
                    string cnp = Path.GetFileNameWithoutExtension(fileName);
                    string nume = sr.ReadLine();
                    Post post = (Post)Enum.Parse(typeof(Post), sr.ReadLine());
                    Jucator j = new Jucator(cnp, nume, post);

                    Button btn = new Button();
                    btn.Text = j.Nume;
                    btn.Width = 200;
                    btn.Tag = j;
                    flowLayoutPanel1.Controls.Add(btn);
                    btn.Click += Btn_Click;
                }
            }
        }

        private void Btn_Click(object sender, EventArgs e)
        {
            Button btn = (Button)sender;
            Jucator j = (Jucator)btn.Tag;
            txtNume.Text = j.Nume;
            txtPost.Text = j.Post.ToString();
            txtCNP.Text = j.CNP;
            dtpDataNasterii.Value = j.DataNasterii;
            txtVarsta.Text = j.Varsta.ToString();
        }

        private void cmbEchipe_SelectedIndexChanged(object sender, EventArgs e)
        {
            IncarcaJucatorEchipa(cmbEchipe.Text);
        }
    }
}

Codul pentru formularul unde se incarca o echipa Noua:

using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.IO;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;

namespace Laborator3
{
    public partial class Form3 : Form
    {
        public Form3()
        {
            InitializeComponent();
        }

        private void btnAdauga_Click(object sender, EventArgs e)
        {
            if(txtEchipa.Text.Trim().Length==0)
            {
                errorProvider1.SetError(txtEchipa, "Numele echipei trebuie completat");
                return;
            }
            else if(Directory.Exists(Application.StartupPath+"\\"+txtEchipa.Text))
            {
                errorProvider1.SetError(txtEchipa, "Exista deja o echipa cu acest nume");
                return;
            }
            Directory.CreateDirectory(Application.StartupPath + "\\" + txtEchipa.Text);
            DialogResult = DialogResult.OK;
        }

        private void btnAnuleaza_Click(object sender, EventArgs e)
        {
            DialogResult = DialogResult.Cancel;
        }
    }
}

Codul pentru formularul unde se incarca un Jucator nou:

using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;

namespace Laborator3
{
    public partial class Form4 : Form
    {
        public string CNP { get => txtCNP.Text; set => txtCNP.Text = value; }
        public string Nume { get => txtNume.Text; set => txtNume.Text = value; }
        internal Post Post { get => (Post)Enum.Parse(typeof(Post), cmbPost.Text); set => cmbPost.Text = value.ToString(); }
        public Form4()
        {
            InitializeComponent();
            cmbPost.SelectedIndex = 0;
        }

        private void btnSalveaza_Click(object sender, EventArgs e)
        {
            if (DateValide())
            {
                DialogResult = DialogResult.OK;
            }
        }

        private bool DateValide()
        {
            bool result = true;
            errorProvider1.Clear();
            errorProvider2.Clear();

            if (txtNume.Text.Trim().Length == 0)
            {
                errorProvider1.SetError(txtNume, "Numele trebuie completat");
                result = false;
            }
            if (txtCNP.Text.Trim().Length == 0)
            {
                errorProvider2.SetError(txtCNP, "CNP ul trebuie completat");
                result = false;
            }
            else if (txtCNP.Text.Trim().Length != 13)
            {
                errorProvider2.SetError(txtCNP, "CNP ul trebuie sa aibe 13 cifre");
                result = false;
            }
            else
            {
                try
                {
                    DateTime dn = new DateTime();
                    int.TryParse(txtCNP.Text.Substring(1, 2), out int an);
                    int.TryParse(txtCNP.Text.Substring(3, 2), out int luna);
                    int.TryParse(txtCNP.Text.Substring(5, 2), out int zi);
                    if (txtCNP.Text.Substring(0, 1).CompareTo("1") == 0 || txtCNP.Text.Substring(0, 1).CompareTo("2") == 0)
                        dn = new DateTime(1900 + an, luna, zi);
                    else if (txtCNP.Text.Substring(0, 1).CompareTo("5") == 0 || txtCNP.Text.Substring(0, 1).CompareTo("6") == 0)
                        dn = new DateTime(2000 + an, luna, zi);
                }
                catch (Exception ex)
                {
                    result = false;
                    errorProvider2.SetError(txtCNP, ex.Message);
                }
            }
            return result;
        }

        private void btnAnuleaza_Click(object sender, EventArgs e)
        {
            DialogResult = DialogResult.Cancel;
        }
    }
}
